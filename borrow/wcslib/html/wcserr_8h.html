<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>WCSLIB 4.13.4: wcserr.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>wcserr.h File Reference</h1>
<p>
<a href="wcserr_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwcserr.html">wcserr</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Error message handling.  <a href="structwcserr.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#d53f2d5e6a70e53cb3decc6c7b42ad96">WCSERR_MSG_LENGTH</a>&nbsp;&nbsp;&nbsp;160</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#7b46d9cbaea3241d91e40d03a2725fd7">ERRLEN</a>&nbsp;&nbsp;&nbsp;(sizeof(struct <a class="el" href="structwcserr.html">wcserr</a>)/sizeof(int))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#cfa8a447539633296d50e67c7ab466c2">WCSERR_SET</a>(status)&nbsp;&nbsp;&nbsp;err, status, function, __FILE__, __LINE__</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fill in the contents of an error object.  <a href="#cfa8a447539633296d50e67c7ab466c2"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#1691b8bd184d40ca6fda255be078fa53">wcserr_enable</a> (int enable)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable/disable error messaging.  <a href="#1691b8bd184d40ca6fda255be078fa53"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#6585b9fc3a59b369e3336f3133dd1ca9">wcserr_prt</a> (const struct <a class="el" href="structwcserr.html">wcserr</a> *err, const char *prefix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print a <a class="el" href="structwcserr.html" title="Error message handling.">wcserr</a> struct.  <a href="#6585b9fc3a59b369e3336f3133dd1ca9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#a3843f24df9351294fa4847eaff672bc">wcserr_clear</a> (struct <a class="el" href="structwcserr.html">wcserr</a> **err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear a <a class="el" href="structwcserr.html" title="Error message handling.">wcserr</a> struct.  <a href="#a3843f24df9351294fa4847eaff672bc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#b0945d3588b604205b9c1b3d661a794f">wcserr_set</a> (struct <a class="el" href="structwcserr.html">wcserr</a> **err, int status, const char *function, const char *file, int line_no, const char *format,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fill in the contents of an error object.  <a href="#b0945d3588b604205b9c1b3d661a794f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wcserr_8h.html#d970e4ae584d3052b7bec2f1afb4689d">wcserr_copy</a> (const struct <a class="el" href="structwcserr.html">wcserr</a> *src, struct <a class="el" href="structwcserr.html">wcserr</a> *dst)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy an error object.  <a href="#d970e4ae584d3052b7bec2f1afb4689d"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Most of the structs in WCSLIB contain a pointer to a <a class="el" href="structwcserr.html" title="Error message handling.">wcserr</a> struct as a member. Functions in WCSLIB that return an error status code can also allocate and set a detailed error message in this struct which also identifies the function, source file, and line number where the error occurred.<p>
<b>For example:</b> <br>
 <div class="fragment"><pre class="fragment">      <span class="keyword">struct </span><a class="code" href="structprjprm.html" title="Projection parameters.">prjprm</a> prj;
      <a class="code" href="wcserr_8h.html#1691b8bd184d40ca6fda255be078fa53" title="Enable/disable error messaging.">wcserr_enable</a>(1);
      <span class="keywordflow">if</span> (<a class="code" href="prj_8h.html#d994cb23871c51b20754973bef180f8a" title="Default constructor for the prjprm struct.">prjini</a>(&amp;prj)) {
        <span class="comment">// Print the error message to stderr.</span>
        <a class="code" href="wcsprintf_8h.html#5c6f91916a0b8f8c2d85274c0ba130f6" title="Set output disposition for wcsprintf().">wcsprintf_set</a>(stderr);
        <a class="code" href="wcserr_8h.html#6585b9fc3a59b369e3336f3133dd1ca9" title="Print a wcserr struct.">wcserr_prt</a>(prj.err, 0<a class="code" href="structprjprm.html#ae2c61d85c72e87f4b2b77a14c8eb316">x0</a>);
      }
</pre></div><p>
A number of utility functions used in managing the <a class="el" href="structwcserr.html" title="Error message handling.">wcserr</a> struct are for <b>internal use only</b>. They are documented here solely as an aid to understanding the code. They are not intended for external use - the API may change without notice! <hr><h2>Define Documentation</h2>
<a class="anchor" name="d53f2d5e6a70e53cb3decc6c7b42ad96"></a><!-- doxytag: member="wcserr.h::WCSERR_MSG_LENGTH" ref="d53f2d5e6a70e53cb3decc6c7b42ad96" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WCSERR_MSG_LENGTH&nbsp;&nbsp;&nbsp;160          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7b46d9cbaea3241d91e40d03a2725fd7"></a><!-- doxytag: member="wcserr.h::ERRLEN" ref="7b46d9cbaea3241d91e40d03a2725fd7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERRLEN&nbsp;&nbsp;&nbsp;(sizeof(struct <a class="el" href="structwcserr.html">wcserr</a>)/sizeof(int))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cfa8a447539633296d50e67c7ab466c2"></a><!-- doxytag: member="wcserr.h::WCSERR_SET" ref="cfa8a447539633296d50e67c7ab466c2" args="(status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WCSERR_SET          </td>
          <td>(</td>
          <td class="paramtype">status&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;err, status, function, __FILE__, __LINE__</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>INTERNAL USE ONLY.</b><p>
<b>WCSERR_SET</b>() is a preprocessor macro that helps to fill in the argument list of <a class="el" href="wcserr_8h.html#b0945d3588b604205b9c1b3d661a794f" title="Fill in the contents of an error object.">wcserr_set()</a>. It takes status as an argument of its own and provides the name of the source file and the line number at the point where invoked. It assumes that the err and function arguments of <a class="el" href="wcserr_8h.html#b0945d3588b604205b9c1b3d661a794f" title="Fill in the contents of an error object.">wcserr_set()</a> will be provided by variables of the same names. 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="1691b8bd184d40ca6fda255be078fa53"></a><!-- doxytag: member="wcserr.h::wcserr_enable" ref="1691b8bd184d40ca6fda255be078fa53" args="(int enable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wcserr_enable           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>enable</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>wcserr_enable</b>() enables or disables <a class="el" href="structwcserr.html" title="Error message handling.">wcserr</a> error messaging. By default it is disabled.<p>
<b>PLEASE NOTE:</b> This function is not thread-safe.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>enable</em>&nbsp;</td><td>If true (non-zero), enable error messaging, else disable it.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Status return value:<ul>
<li>0: Error messaging is disabled.</li><li>1: Error messaging is enabled. </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="6585b9fc3a59b369e3336f3133dd1ca9"></a><!-- doxytag: member="wcserr.h::wcserr_prt" ref="6585b9fc3a59b369e3336f3133dd1ca9" args="(const struct wcserr *err, const char *prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wcserr_prt           </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structwcserr.html">wcserr</a> *&nbsp;</td>
          <td class="paramname"> <em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>wcserr_prt</b>() prints the error message (if any) contained in a <a class="el" href="structwcserr.html" title="Error message handling.">wcserr</a> struct. It uses the <a class="el" href="wcsprintf_8h.html#46950abaf5a27347da8160741f98f973" title="Print function used by WCSLIB diagnostic routines.">wcsprintf()</a> functions.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>err</em>&nbsp;</td><td>The error object. If NULL, nothing is printed. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>prefix</em>&nbsp;</td><td>If non-NULL, each output line will be prefixed with this string.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Status return value:<ul>
<li>0: Success.</li><li>2: Error messaging is not enabled. </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="a3843f24df9351294fa4847eaff672bc"></a><!-- doxytag: member="wcserr.h::wcserr_clear" ref="a3843f24df9351294fa4847eaff672bc" args="(struct wcserr **err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wcserr_clear           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwcserr.html">wcserr</a> **&nbsp;</td>
          <td class="paramname"> <em>err</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>wcserr_clear</b>() clears the error (if any) contained in a <a class="el" href="structwcserr.html" title="Error message handling.">wcserr</a> struct.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>err</em>&nbsp;</td><td>The error object. If NULL, nothing is done. Set to NULL on return.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Status return value:<ul>
<li>0: Success. </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="b0945d3588b604205b9c1b3d661a794f"></a><!-- doxytag: member="wcserr.h::wcserr_set" ref="b0945d3588b604205b9c1b3d661a794f" args="(struct wcserr **err, int status, const char *function, const char *file, int line_no, const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wcserr_set           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwcserr.html">wcserr</a> **&nbsp;</td>
          <td class="paramname"> <em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>INTERNAL USE ONLY.</b><p>
<b>wcserr_set</b>() fills a <a class="el" href="structwcserr.html" title="Error message handling.">wcserr</a> struct with information about an error.<p>
A convenience macro, <a class="el" href="wcserr_8h.html#cfa8a447539633296d50e67c7ab466c2" title="Fill in the contents of an error object.">WCSERR_SET</a>, provides the source file and line number information automatically.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>err</em>&nbsp;</td><td>Error object. <br>
 If err is NULL, returns the status code given without setting an error message. <br>
 If *err is NULL, allocates memory for a <a class="el" href="structwcserr.html" title="Error message handling.">wcserr</a> struct (provided that status is non-zero).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>status</em>&nbsp;</td><td>Numeric status code to set. If 0, then *err will be deleted and *err will be returned as NULL. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>function</em>&nbsp;</td><td>Name of the function generating the error. This must point to a constant string, i.e. in the initialized read-only data section ("data") of the executable. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>file</em>&nbsp;</td><td>Name of the source file generating the error. This must point to a constant string, i.e. in the initialized read-only data section ("data") of the executable such as given by the __FILE__ preprocessor macro. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>line_no</em>&nbsp;</td><td>Line number in the source file generating the error such as given by the __LINE__ preprocessor macro. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>format</em>&nbsp;</td><td>Format string of the error message. May contain printf-style -formatting codes. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>...</em>&nbsp;</td><td>The remaining variable arguments are applied (like printf) to the format string to generate the error message.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The status return code passed in. </dd></dl>

</div>
</div><p>
<a class="anchor" name="d970e4ae584d3052b7bec2f1afb4689d"></a><!-- doxytag: member="wcserr.h::wcserr_copy" ref="d970e4ae584d3052b7bec2f1afb4689d" args="(const struct wcserr *src, struct wcserr *dst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wcserr_copy           </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structwcserr.html">wcserr</a> *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwcserr.html">wcserr</a> *&nbsp;</td>
          <td class="paramname"> <em>dst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>INTERNAL USE ONLY.</b><p>
<b>wcserr_copy</b>() copies one error object to another. Use of this function should be avoided in general since the function, source file, and line number information copied to the destination may lose its context.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>src</em>&nbsp;</td><td>Source error object. If src is NULL, dst is cleared.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dst</em>&nbsp;</td><td>Destination error object. If NULL, no copy is made.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Numeric status code of the source error object. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Apr 2 17:55:24 2012 for WCSLIB 4.13.4 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
